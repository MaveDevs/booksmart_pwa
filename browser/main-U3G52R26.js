import{d as G,g as Z,h as S,j as q,k as Y,l as $}from"./chunk-PKJX3TX3.js";import{$ as B,D as C,G as m,Ga as H,H as U,Ia as N,J as T,La as a,M as F,Ma as c,N as R,Na as y,O as g,P as j,T as W,Xa as d,Y as V,a as L,aa as z,e as O,f as P,gb as K,n as f,u as l,v as _,y as h,za as v}from"./chunk-BG3YE536.js";var D=class t{unreadNotifications=z(0);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["app-navbar"]],decls:19,vars:0,consts:[[1,"nav-wrapper"],[1,"brand"],[1,"nav-links"],["routerLink","/home","routerLinkActive","active"],[1,"icon"],[1,"label"],["routerLink","/services","routerLinkActive","active"],["routerLink","/profile","routerLinkActive","active"]],template:function(e,i){e&1&&(a(0,"nav",0)(1,"div",1),d(2," Booksmart "),c(),a(3,"div",2)(4,"a",3)(5,"span",4),d(6,"\u{1F3E0}"),c(),a(7,"span",5),d(8,"Inicio"),c()(),a(9,"a",6)(10,"span",4),d(11,"\u{1F4C5}"),c(),a(12,"span",5),d(13,"Servicios"),c()(),a(14,"a",7)(15,"span",4),d(16,"\u{1F464}"),c(),a(17,"span",5),d(18,"Perfil"),c()()()())},dependencies:[q,Y],styles:[".nav-wrapper[_ngcontent-%COMP%]{background:#fff;display:flex;align-items:center;z-index:1000;border-top:1px solid #e2e8f0;position:fixed;bottom:0;left:0;width:100%;height:65px;justify-content:space-around;padding-bottom:env(safe-area-inset-bottom)}@media(min-width:768px){.nav-wrapper[_ngcontent-%COMP%]{position:sticky;top:0;bottom:auto;height:70px;padding:0 10%;justify-content:space-between;border-top:none;border-bottom:1px solid #e2e8f0}}.brand[_ngcontent-%COMP%]{display:none;font-size:1.5rem;font-weight:800;color:#2563eb}@media(min-width:768px){.brand[_ngcontent-%COMP%]{display:block}}.nav-links[_ngcontent-%COMP%]{display:flex;gap:2rem;width:100%;justify-content:space-around}@media(min-width:768px){.nav-links[_ngcontent-%COMP%]{width:auto;justify-content:flex-end}}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#64748b;display:flex;flex-direction:column;align-items:center;transition:color .2s}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#2563eb}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:scale(1.1)}@media(min-width:768px){.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex-direction:row;gap:8px}}.icon[_ngcontent-%COMP%]{font-size:1.2rem}.label[_ngcontent-%COMP%]{font-size:.7rem}@media(min-width:768px){.label[_ngcontent-%COMP%]{font-size:1rem}}"]})};var k=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["app-main-layout"]],decls:5,vars:0,consts:[[1,"app-container"],[1,"content"],[1,"container-limit"]],template:function(e,i){e&1&&(a(0,"div",0),y(1,"app-navbar"),a(2,"main",1)(3,"div",2),y(4,"router-outlet"),c()()())},dependencies:[S,D],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}@media(min-width:768px){.app-container[_ngcontent-%COMP%]{flex-direction:column}}.content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch}.content[_ngcontent-%COMP%]   .container-limit[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;padding-bottom:calc(80px + var(--safe-bottom))}@media(min-width:768px){.content[_ngcontent-%COMP%]   .container-limit[_ngcontent-%COMP%]{padding-bottom:20px}}"]})};var Q=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-P3MCJMSY.js").then(t=>t.Login)},{path:"register",loadComponent:()=>import("./chunk-DOGAWWH3.js").then(t=>t.Register)},{path:"app",component:k,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-NBOTUFUV.js").then(t=>t.Home)},{path:"services",loadComponent:()=>import("./chunk-TA64Q2Y6.js").then(t=>t.Services)},{path:"profile",loadComponent:()=>import("./chunk-LXEJ7UQ7.js").then(t=>t.Profile)}]},{path:"**",redirectTo:"login"}];var A="Service workers are disabled or not supported by this browser",b=class{serviceWorker;worker;registration;events;constructor(o,e){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=new O(i=>i.error(new m(5601,!1)));else{let i=null,n=new P;this.worker=new O(p=>(i!==null&&p.next(i),n.subscribe(E=>p.next(E))));let s=()=>{let{controller:p}=o;p!==null&&(i=p,n.next(i))};o.addEventListener("controllerchange",s),s(),this.registration=this.worker.pipe(C(()=>o.getRegistration().then(p=>{if(!p)throw new m(5601,!1);return p})));let r=new P;this.events=r.asObservable();let u=p=>{let{data:E}=p;E?.type&&r.next(E)};o.addEventListener("message",u),e?.get(N,null,{optional:!0})?.onDestroy(()=>{o.removeEventListener("controllerchange",s),o.removeEventListener("message",u)})}}postMessage(o,e){return new Promise(i=>{this.worker.pipe(h(1)).subscribe(n=>{n.postMessage(L({action:o},e)),i()})})}postMessageWithOperation(o,e,i){let n=this.waitForOperationCompleted(i),s=this.postMessage(o,e);return Promise.all([s,n]).then(([,r])=>r)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(o){let e;return typeof o=="string"?e=i=>i.type===o:e=i=>o.includes(i.type),this.events.pipe(_(e))}nextEventOfType(o){return this.eventsOfType(o).pipe(h(1))}waitForOperationCompleted(o){return new Promise((e,i)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(_(n=>n.nonce===o),h(1),f(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).subscribe({next:e,error:i})})}get isEnabled(){return!!this.serviceWorker}},ie=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new P;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=l,this.notificationClicks=l,this.notificationCloses=l,this.pushSubscriptionChanges=l,this.subscription=l;return}this.messages=this.sw.eventsOfType("PUSH").pipe(f(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(f(n=>n.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(f(n=>n.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(f(n=>n.data)),this.pushManager=this.sw.registration.pipe(f(n=>n.pushManager));let i=this.pushManager.pipe(C(n=>n.getSubscription()));this.subscription=new O(n=>{let s=i.subscribe(n),r=this.subscriptionChanges.subscribe(n);return()=>{s.unsubscribe(),r.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(A));let i={userVisibleOnly:!0},n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(n.length));for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return i.applicationServerKey=s,new Promise((r,u)=>{this.pushManager.pipe(C(w=>w.subscribe(i)),h(1)).subscribe({next:w=>{this.subscriptionChanges.next(w),r(w)},error:u})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(A));let e=i=>{if(i===null)throw new m(5602,!1);return i.unsubscribe().then(n=>{if(!n)throw new m(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((i,n)=>{this.subscription.pipe(h(1),C(e)).subscribe({next:i,error:n})})}decodeBase64(e){return atob(e)}static \u0275fac=function(i){return new(i||t)(R(b))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),oe=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=l,this.unrecoverable=l;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(A));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new m(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(i){return new(i||t)(R(b))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),ee=new F("");function re(){let t=g(M);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let o=g(ee),e=g(V),i=g(N);e.runOutsideAngular(()=>{let n=navigator.serviceWorker,s=()=>n.controller?.postMessage({action:"INITIALIZE"});n.addEventListener("controllerchange",s),i.onDestroy(()=>{n.removeEventListener("controllerchange",s)})}),e.runOutsideAngular(()=>{let n,{registrationStrategy:s}=t;if(typeof s=="function")n=new Promise(r=>s().subscribe(()=>r()));else{let[r,...u]=(s||"registerWhenStable:30000").split(":");switch(r){case"registerImmediately":n=Promise.resolve();break;case"registerWithDelay":n=X(+u[0]||0);break;case"registerWhenStable":n=Promise.race([i.whenStable(),X(+u[0])]);break;default:throw new m(5600,!1)}}n.then(()=>{i.destroyed||navigator.serviceWorker.register(o,{scope:t.scope,updateViaCache:t.updateViaCache,type:t.type}).catch(r=>console.error(U(5604,!1)))})})}function X(t){return new Promise(o=>setTimeout(o,t))}function se(){let t=g(M),o=g(W),e=!0;return new b(e&&t.enabled!==!1?navigator.serviceWorker:void 0,o)}var M=class{enabled;updateViaCache;type;scope;registrationStrategy};function te(t,o={}){return j([ie,oe,{provide:ee,useValue:t},{provide:M,useValue:o},{provide:b,useFactory:se},H(re)])}var ne={providers:[B(),$(Q),Z(),te("ngsw-worker.js",{enabled:!K(),registrationStrategy:"registerWhenStable:30000"})]};var x=class t{title="booksmart_pwa";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){e&1&&y(0,"router-outlet")},dependencies:[S],encapsulation:2})};G(x,ne).catch(t=>console.error(t));
